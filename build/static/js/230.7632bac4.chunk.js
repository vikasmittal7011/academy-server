"use strict";(self.webpackChunkclient_2=self.webpackChunkclient_2||[]).push([[230],{2721:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(710),s=n(579);const a=()=>(0,s.jsx)("div",{className:"justify-center flex items-center",children:(0,s.jsx)(r.A,{size:100,color:"blue"})})},9092:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(6178),s=n.n(r),a=n(579);const o=e=>{var t,n,r,o,l;let{event:d}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"font-bold text-2xl md:text-3xl tracking-wide",children:d.name}),(0,a.jsxs)("p",{children:["Venue : ",null===d||void 0===d||null===(t=d.location)||void 0===t?void 0:t.address,", ",null===d||void 0===d||null===(n=d.location)||void 0===n?void 0:n.state,", ",null===d||void 0===d||null===(r=d.location)||void 0===r?void 0:r.country,", ",null===d||void 0===d||null===(o=d.location)||void 0===o?void 0:o.zipCode]}),(0,a.jsx)("a",{className:"underline w-fit",href:null===d||void 0===d||null===(l=d.location)||void 0===l?void 0:l.mapLocation,rel:"noreferrer",target:"_blank",children:"Map Location"}),(0,a.jsxs)("p",{children:["Start Date : ",s()(d.startDate).format("MMMM Do YYYY, h:mm a")]}),(0,a.jsxs)("p",{children:["End Date : ",s()(d.endDate).format("MMMM Do YYYY, h:mm a")]}),(0,a.jsxs)("p",{children:["Fees : \u20b9 ",d.fees," /-"]})]})}},289:(e,t,n)=>{n.d(t,{dd:()=>a,eG:()=>r,vB:()=>s});const r=()=>{window.scrollTo(0,0)},s="border-2 border-blue-400 focus:outline-blue-800 rounded-md w-full py-2 px-2 font-normal mt-2 text-lg",a="font-bold text-gray-700 text-lg flex-1"},8230:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(5043),s=n(3216),a=n(3003),o=n(3916),l=n(9092),d=n(4858),c=n(5264),i=n(289),u=n(3369),m=n(7654),f=n(579);const x=e=>{let{referCode:t,event:n,user:s,validReferCode:o}=e;const[l,x]=(0,r.useState)(),{data:v}=(0,a.d4)(m.PY),b=(0,a.wA)(),{register:h,formState:{errors:p},watch:j,reset:g,handleSubmit:y}=(0,d.mN)({defaultValues:{numberOfSeat:1}}),N=j("referCode"),C=y((e=>{S()})),S=async()=>{b((0,m.wi)({totalAmount:l}))};return(0,r.useEffect)((()=>{if(v.success){const e="".concat("https://academy-q7zm.onrender.com/api/","event/enroll?eventId=").concat(n.id,"&totalPrice=").concat(l,"&referCode=").concat(t||"","&numberOfSeat=").concat(j("numberOfSeat")),{key:r}=v;(0,c.A)(e,r,v,s,n)}}),[v.success]),(0,r.useEffect)((()=>{g({referCode:t})}),[t,g]),(0,r.useEffect)((()=>{j("numberOfSeat")&&g({numberOfSeat:1})}),[]),(0,r.useEffect)((()=>{(()=>{let e=n.fees*j("numberOfSeat");N&&o&&(e=Math.round(.9*(null===n||void 0===n?void 0:n.fees))*j("numberOfSeat")),x(e)})()}),[o,j("numberOfSeat")]),(0,f.jsxs)("form",{onSubmit:C,className:"flex flex-col",children:[(0,f.jsxs)("label",{className:i.dd,children:["Number Of Seat",(0,f.jsx)("input",{type:"number",min:1,max:10,...h("numberOfSeat",{required:"This fiels is require..."}),className:i.vB}),p.numberOfSeat&&(0,f.jsx)("span",{className:"text-red-500",children:p.numberOfSeat.message})]}),(0,f.jsxs)("label",{className:i.dd,children:["Refer Code",(0,f.jsx)("input",{...h("referCode"),className:"".concat(i.vB," ").concat(N&&o&&"border-green-500 oultine-green-500")})]}),(0,f.jsx)("p",{onClick:()=>{N&&b((0,u.Od)({referCode:N}))},className:"underline my-1 cursor-pointer",children:"Verify"}),(0,f.jsxs)("p",{children:["Total Price ",l]}),(0,f.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white transition outline-none w-full py-2 px-4 textlg mt-5 rounded-md",children:"Enroll Me"})]})};var v=n(2721),b=n(9489);const h=()=>{const{validReferCode:e,message:t,user:n}=(0,a.d4)(u.ge),{event:d,status:c}=(0,a.d4)(b.HU),i=(0,a.wA)(),{id:m,referCode:h}=(0,s.g)();return(0,r.useEffect)((()=>{i((0,b.y)(m))}),[m]),(0,f.jsxs)("div",{children:[(0,f.jsx)(o.A,{message:t,type:e?"success":"err",clearMessage:u.de}),"loading"===c?(0,f.jsx)(v.A,{}):(0,f.jsx)(f.Fragment,{children:d.name?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h1",{className:"mb-5 text-3xl font-bold",children:"Book Your seat fro Event"}),(0,f.jsx)("div",{className:"border border-slate-400 rounded-md p-4",children:(0,f.jsxs)("div",{className:"grid md:grid-cols-[2fr_1fr] gap-3",children:[(0,f.jsx)(l.A,{event:d}),(0,f.jsx)(x,{referCode:h,event:d,user:n,validReferCode:e})]})})]}):(0,f.jsx)("div",{className:"font-bold flex justify-center mt-10 text-2xl text-red-500",children:"Event Not Found"})})]})}},5264:(e,t,n)=>{n.d(t,{A:()=>r});const r=(e,t,n,r,s)=>{const a={key:t,amount:+n.data.amount,currency:"INR",name:"Vikey's Acadmey",description:"Vikey's Acadmey Online Payment",image:"https://cdn.pixabay.com/photo/2016/10/09/19/19/coins-1726618_640.jpg",order_id:n.data.id,callback_url:e,prefill:{name:r.name,email:r.email,contact:r.contact},notes:{address:"Razorpay Corporate Office",bookingInfo:{...s,hotel:s.id}},theme:{color:"#3399cc"}};new window.Razorpay(a).open()}}}]);
//# sourceMappingURL=230.7632bac4.chunk.js.map